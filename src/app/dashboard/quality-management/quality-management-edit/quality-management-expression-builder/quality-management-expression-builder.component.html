<section id="rule-builder">
  <button mat-icon-button (click)="addRule()">
    <mat-icon>add</mat-icon>
  </button>
  <section class="form">
    <!-- <p>Expression: <b>{{expressionString}}</b></p> -->
    <div [formGroup]="formGroup">
      <mat-form-field class="full-width">
        <mat-label i18n>Expression</mat-label>
        <textarea matInput formControlName="expression" readonly></textarea>
        <mat-error *ngIf="expressionFormControl?.value === ''" i18n>Please fill all the required data for the expression to be generated</mat-error>
      </mat-form-field>
    </div>
    <ng-container *ngFor="let expression of expressionFormGroup; let i = index">
      <asrdb-expression-form
        [rule]="expression"
        [showOperator]="i !== expressionFormGroup.length - 1"
        [showDeleteButton]="expressionFormGroup.length - 1 !== 0"
        [entityType]="entityType"
        (removeExpression)="removeRule($event)"></asrdb-expression-form>
    </ng-container>
  </section>
</section>
