
<section id="entity-management" *ngIf="!isLoadingData">
  <div class="entity-management-section">
    <asrdb-building-creation
      [entityType]="entityType"
      [formGroup]="mapDetails"
      [existingBuildingGeometry]="existingBuildingGeometry"
      [existingEntrancesGeometry]="existingEntrancesGeometry"
      (centroidUpdated)="updateCentroid($event)">
    </asrdb-building-creation>
  </div>
  <div class="entity-management-section entity-management-form">
    <h1 i18n>
      Please fill all the details for the
      <span *ngIf="isEntrance"> entrance</span>
      <span *ngIf="isBuilding"> building</span>
    </h1>
    <asrdb-building-details-form
      *ngIf="isBuilding"
      [formGroup]="buildingDetails"
      [existingBuildingDetails]="existingBuildingDetails">
    </asrdb-building-details-form>
    <asrdb-entrance-details-form
      *ngIf="isEntrance"
      [formGroup]="entranceDetails"
      [existingEntrancesDetails]="existingEntrancesDetails">
    </asrdb-entrance-details-form>
    <button mat-flat-button
            color="primary"
            style="float: right; margin-top: 20px"
            [disabled]="isSaving | async"
            (click)="save()" i18n>Save changes
      <mat-icon iconPositionBefore>save</mat-icon>
    </button>
  </div>
</section>
